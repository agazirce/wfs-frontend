<form [formGroup]="formGroup" (ngSubmit)="save()">
  <mat-form-field>
    <mat-label>Titre</mat-label>
    <input matInput formControlName="title" name="title" />
    <mat-error *ngIf="formGroup.controls.title.errors?.required">
      Ce champ est requis.
    </mat-error>
    <mat-error *ngIf="formGroup.controls.title.errors?.minlength">
      Ce champ doit contenir au moins {{formGroup.controls.title.errors?.minlength.requiredLength}} caractères.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Url de l'image</mat-label>
    <input matInput formControlName="affiche" name="affiche" />
    <mat-error *ngIf="formGroup.controls.affiche.errors?.minlength">
      Ce champ doit contenir au moins {{formGroup.controls.affiche.errors?.minlength.requiredLength}} caractères.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Année de sortie</mat-label>
    <input matInput placeholder="1950" type="number" formControlName="year" name="year" />
    <mat-hint>Format : YYYY</mat-hint>
    <mat-error *ngIf="formGroup.controls.year.errors?.required">
      Ce champ est requis.
    </mat-error>
    <mat-error *ngIf="formGroup.controls.year.errors?.max">
      Ce champ doit être inférieur à {{formGroup.controls.year.errors?.max.max}}.
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Genre</mat-label>
    <input matInput formControlName="genre" name="genre" />
    <mat-error *ngIf="formGroup.controls.genre.errors?.minlength">
      Ce champ doit contenir au moins {{formGroup.controls.genre.errors?.minlength.requiredLength}} caractères.
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Réalisteur</mat-label>
    <input matInput formControlName="realisator" name="realisator" />
    <mat-error *ngIf="formGroup.controls.realisator.errors?.minlength">
      Ce champ doit contenir au moins {{formGroup.controls.realisator.errors?.minlength.requiredLength}} caractères.
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Url de la bande-annonce</mat-label>
    <input matInput formControlName="preview" name="preview" />
    <mat-error *ngIf="formGroup.controls.preview.errors?.minlength">
      Ce champ doit contenir au moins {{formGroup.controls.preview.errors?.minlength.requiredLength}} caractères.
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Durée</mat-label>
    <input matInput placeholder="1950" type="number" formControlName="duration" name="duration" />
    <mat-hint>Format : minutes</mat-hint>
    <mat-error *ngIf="formGroup.controls.duration.errors?.required">
      Ce champ est requis.
    </mat-error>
    <mat-error *ngIf="formGroup.controls.duration.errors?.max">
      Ce champ doit être inférieur à {{formGroup.controls.duration.errors?.max.max}}.
    </mat-error>
  </mat-form-field>

  <button mat-flat-button color="primary">
    Save
  </button>
  <button type="button" mat-flat-button color="accent" (click)="reset()">
    Reset
  </button>
</form>

<mat-list>
  <h3> Liste des personnages à ajouter </h3>
  <mat-list-item *ngFor="let character of characters">
    {{ character.firstName}} {{ character.lastName}} {{ character.nickname}}&nbsp;
    <button (click)="pushCharacter(character)">
      <mat-icon>
        add
      </mat-icon>
    </button>
  </mat-list-item>

</mat-list>

<mat-list *ngIf="movie">
  <h3> Liste des personnages du Film </h3>
  <mat-list-item *ngFor="let character of movie?.characters">
    {{ character.firstName}} {{ character.lastName}} {{ character.nickname}}&nbsp;
    <button (click)="popCharacter(character)">
      <mat-icon>
        delete
      </mat-icon>
    </button>
  </mat-list-item>
</mat-list>

<mat-list *ngIf="!movie">
  <h3> Liste des personnages du Film </h3>
  <mat-list-item *ngFor="let character of charactersAdd">
    {{ character.firstName}} {{ character.lastName}} {{ character.nickname}}&nbsp;
    <button (click)="popCharacter(character)">
      <mat-icon>
        delete
      </mat-icon>
    </button>
  </mat-list-item>
</mat-list>


<a mat-button routerLink="/movies">Retour à la liste</a>
